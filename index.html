<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å‚å¤é£Ÿå“ 2025 æ——è‰¦è¨‚è³¼å–®</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        input[type="number"], input[type="text"] { font-size: 16px !important; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .item-card.selected { border-color: #ef4444; background-color: #fef2f2; }
        .category-header { position: sticky; top: 120px; z-index: 20; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        .oos-card { opacity: 0.5; grayscale: 100%; pointer-events: none; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 pb-44">

    <!-- é ‚éƒ¨å›ºå®šå€åŸŸ -->
    <header class="sticky top-0 z-50 bg-white border-b border-slate-200 shadow-sm">
        <div class="p-4 max-w-2xl mx-auto">
            <h1 class="text-xl font-black text-center text-red-600 italic tracking-tighter">CHUI KUN å‚å¤æ——è‰¦è¨‚è³¼å–®</h1>
            
            <div class="mt-3 relative">
                <input type="text" id="searchInput" oninput="handleSearch()" placeholder="ğŸ” æœå°‹å“å (å¦‚: è‚‰é¬†, å’–å•¡, é¤…ä¹¾...)" 
                       class="w-full bg-slate-100 border-none rounded-2xl py-3 px-11 focus:ring-2 focus:ring-red-500 transition-all shadow-inner">
            </div>

            <!-- åˆ†é¡å¿«é€Ÿè·³è½‰ -->
            <div id="categoryNav" class="flex overflow-x-auto gap-2 mt-3 no-scrollbar py-1">
                <!-- JS å‹•æ…‹ç”Ÿæˆ -->
            </div>
        </div>
    </header>

    <!-- å•†å“åˆ—è¡¨ -->
    <main id="listContainer" class="p-4 max-w-2xl mx-auto space-y-3">
        <!-- JS å‹•æ…‹ç”Ÿæˆé …ç›® -->
    </main>

    <!-- åº•éƒ¨åŠŸèƒ½åˆ— -->
    <footer class="fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-4 shadow-[0_-5px_15px_rgba(0,0,0,0.05)] z-50">
        <div class="max-w-2xl mx-auto">
            <div class="flex justify-between items-end mb-4 px-2">
                <div>
                    <p class="text-xs text-slate-400 font-bold uppercase tracking-widest">å·²é¸å•†å“</p>
                    <p class="text-lg font-bold text-slate-800"><span id="totalItems" class="text-red-600 text-xl">0</span> ä»¶</p>
                </div>
                <div class="text-right">
                    <p class="text-xs text-slate-400 font-bold uppercase tracking-widest">é ä¼°ç¸½é¡</p>
                    <p class="text-2xl font-black text-red-600">$ <span id="totalAmount">0</span></p>
                </div>
            </div>
            
            <div class="flex gap-2">
                <button onclick="resetOrder()" class="bg-slate-100 text-slate-500 px-4 py-4 rounded-2xl font-bold active:bg-slate-200 transition">
                    é‡è¨­
                </button>
                <button onclick="copyOrder()" class="flex-grow bg-red-600 hover:bg-red-700 text-white font-bold py-4 rounded-2xl shadow-lg flex items-center justify-center gap-2 active:scale-[0.98] transition">
                    ğŸ“‹ è¤‡è£½æ¸…å–®è‡³ LINE
                </button>
            </div>
        </div>
    </footer>

    <div id="toast" class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-slate-800 text-white px-8 py-4 rounded-3xl opacity-0 pointer-events-none transition-all duration-300 z-[100] font-bold shadow-2xl">
        å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿
    </div>

    <script>
        // å®Œå…¨æ ¹æ“šæ‚¨æä¾›çš„æ–‡å­—æ¸…å–®æ•´ç†
        const products = [
            // è‚‰é¬†é¡
            { cat: "è‚‰é¬†é¡", name: "ç‰¹è£½è‚‰è„¯é¬†", unit: "1åŒ…", price: 150 },
            { cat: "è‚‰é¬†é¡", name: "æµ·è‹”è‚‰é¬†", unit: "1åŒ…", price: 150 },
            { cat: "è‚‰é¬†é¡", name: "å…’ç«¥è‚‰é¬†", unit: "1åŒ…", price: 150 },
            { cat: "è‚‰é¬†é¡", name: "ç´”è‚‰é¬†", unit: "1åŒ…", price: 150 },
            { cat: "è‚‰é¬†é¡", name: "è‚‰è„¯", unit: "1åŒ…", price: 150 },
            { cat: "è‚‰é¬†é¡", name: "è‚‰é¬†å°è„†é¤…", unit: "1åŒ…", price: 150 },
            
            // å†·å‡é¡
            { cat: "å†·å‡é¡", name: "æ¸¯å¼è˜¿è””ç³•", unit: "1åŒ…", price: 80 },

            // è±¬è‚‰é¡
            { cat: "è±¬è‚‰é¡", name: "(æ–°å“)æŸšé¦™è‚‰å¹²", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "åŸå‘³ç­·å­è‚‰å¹²", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "æ³°å¼æ–¹å¡Šè‚‰å¹²", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "æ³°å¼ç­·å­è‚‰å¹²", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "åŸå‘³è‚‰æ¢", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "å¤§çµ²è‚‰æ¢", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "è±¬è‚‰ç‰‡", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "éº»è¾£è±¬è‚‰ç‰‡", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "æ²™èŒ¶è±¬è‚‰ç‰‡", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "è±¬è‚‰æ¢", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "æª¸æª¬è±¬è‚‰æ¢", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "é»‘èƒ¡æ¤’è±¬è‚‰æ¢", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "è±¬è‚‰è§’", unit: "1åŒ…", price: 300 },
            { cat: "è±¬è‚‰é¡", name: "é»‘èƒ¡æ¤’åšè‚‰å¹²", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "åŸå‘³è–„è‚‰å¹²", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "é»‘èƒ¡æ¤’è–„è‚‰å¹²", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "åŸå‘³æä»è‚‰å¹²", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "é»‘èƒ¡æ¤’æä»è‚‰å¹²", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "åŸå‘³æª¸æª¬è‚‰å¹²", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "è¾£å‘³æª¸æª¬è‚‰å¹²", unit: "1åŒ…", price: 200 },
            { cat: "è±¬è‚‰é¡", name: "èœœæ±è‚‰å¹²", unit: "1åŒ…", price: 200 },

            // é­šè£½å“é¡
            { cat: "é­šè£½å“é¡", name: "[æ–°å“]éº»è¾£é­šçš®", unit: "1åŒ…", price: 100 },
            { cat: "é­šè£½å“é¡", name: "[æ–°å“]ç³–ç²’ç´…ç‰‡", unit: "1åŒ…", price: 100 },
            { cat: "é­šè£½å“é¡", name: "[æ–°å“]å‹è¾£é­šç‰‡", unit: "1åŒ…", price: 50 },
            { cat: "é­šè£½å“é¡", name: "å¤æ—©å‘³ç´…ç‰‡", unit: "1åŒ…", price: 50 },
            { cat: "é­šè£½å“é¡", name: "é±ˆé­šé¦™çµ²", unit: "1åŒ…", price: 50 },
            { cat: "é­šè£½å“é¡", name: "é¦™çƒ¤é­·é­šç‰‡", unit: "1åŒ…", price: 200 },
            { cat: "é­šè£½å“é¡", name: "å°ç‡’å·", unit: "1åŒ…", price: 200 },
            { cat: "é­šè£½å“é¡", name: "é£›å·ç‰‡", unit: "1åŒ…", price: 200 },
            { cat: "é­šè£½å“é¡", name: "é­·é­šçµ²", unit: "1åŒ…", price: 200 },
            { cat: "é­šè£½å“é¡", name: "ç¢³çƒ¤çµ²", unit: "1åŒ…", price: 200 },
            { cat: "é­šè£½å“é¡", name: "é­·é­šç‰‡", unit: "1åŒ…", price: 200 },
            { cat: "é­šè£½å“é¡", name: "æ——é­šé¬†", unit: "1åŒ…", price: 150 },
            { cat: "é­šè£½å“é¡", name: "æ——é­šè„¯", unit: "1åŒ…", price: 150 },
            { cat: "é­šè£½å“é¡", name: "æŸ´é­šä¸è§’", unit: "1åŒ…", price: 150 },
            { cat: "é­šè£½å“é¡", name: "é®ªé­šä¸è§’", unit: "1åŒ…", price: 150 },
            { cat: "é­šè£½å“é¡", name: "é»‘èƒ¡æ¤’åˆ‡ç‰‡é±ˆé­šé¢¨å‘³", unit: "1åŒ…", price: 150 },
            { cat: "é­šè£½å“é¡", name: "å¡”é¦™åˆ‡ç‰‡é±ˆé­šé¢¨å‘³", unit: "1åŒ…", price: 150 },
            { cat: "é­šè£½å“é¡", name: "é­¯è‚‰åˆ‡ç‰‡é±ˆé­šé¢¨å‘³", unit: "1åŒ…", price: 150 },
            { cat: "é­šè£½å“é¡", name: "éº»è¾£åˆ‡ç‰‡é±ˆé­šé¢¨å‘³", unit: "1åŒ…", price: 150 },
            { cat: "é­šè£½å“é¡", name: "é»‘èŠéº»é±ˆé­šé¦™çµ²", unit: "1åŒ…", price: 200 },
            { cat: "é­šè£½å“é¡", name: "é±ˆé­šé¢¨å‘³æ¢", unit: "1åŒ…", price: 100 },
            { cat: "é­šè£½å“é¡", name: "çƒ˜çƒ¤ç‰‡", unit: "1åŒ…", price: 100 },
            { cat: "é­šè£½å“é¡", name: "é¦™ä¹‹é­š", unit: "1åŒ…", price: 100 },
            { cat: "é­šè£½å“é¡", name: "æµ·è‹”é…¥ç‰‡", unit: "1åŒ…", price: 90 },
            { cat: "é­šè£½å“é¡", name: "æä»é…¥ç‰‡", unit: "1åŒ…", price: 90 },

            // ç‰›è‚‰é¡
            { cat: "ç‰›è‚‰é¡", name: "äº”é¦™ç‰›è‚‰å¹²", unit: "1åŒ…", price: 300 },
            { cat: "ç‰›è‚‰é¡", name: "é»‘èƒ¡æ¤’ç‰›è‚‰å¹²", unit: "1åŒ…", price: 300 },
            { cat: "ç‰›è‚‰é¡", name: "ç‰›è‚‰è§’", unit: "1åŒ…", price: 300 },
            { cat: "ç‰›è‚‰é¡", name: "ç‰›è…±æ¢", unit: "1åŒ…", price: 150 },
            { cat: "ç‰›è‚‰é¡", name: "ç‰›è…±", unit: "1åŒ…", price: 120 },

            // ä¼‘é–’é£Ÿå“é¡
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "(æ–°å“)é»‘ç§ˆç³™ç±³èŠ±ç”Ÿç±³é¦™(ç´”ç´ )", unit: "1åŒ…", price: 150 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "(æ–°å“)é­šæ± é„‰é¦™è‡(ç´”ç´ )", unit: "1åŒ…", price: 450 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "(æ–°å“)é­šæ± é„‰éˆ•æ‰£è‡(ç´”ç´ )", unit: "1åŒ…", price: 315 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "(æ–°å“)ç±³è„†ç‰‡(ç´”ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "(æ–°å“)éº»è¾£é´¨è¡€", unit: "1åŒ…", price: 150 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "é¦™æ»·è›‹(è›‹å¥¶ç´ )", unit: "1åŒ…", price: 150 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "ç‡•éº¥è„†é¤…(å¥¶ç´ )", unit: "1åŒ…", price: 150 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "å°é³³æ¢¨é…¥(è›‹å¥¶ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "é»‘ç±³ç‡’æµ·è‹”è„†ç‰‡(ç´”ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "å°ç£é’ä»é»‘è±†(ç´”ç´ )", unit: "1åŒ…", price: 50 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "é¦™éµè›‹(è›‹ç´ )", unit: "1åŒ…", price: 80, oos: true },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "èœ‚èœœä¹³é…ªçµ²(å¥¶ç´ )", unit: "1åŒ…", price: 200 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "è¾£å‘³ä¹³é…ªçµ²(å¥¶ç´ )", unit: "1åŒ…", price: 200 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "æ³¢ç¾…èœœ(ç´”ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "èŠ‹é ­æ¢(ç´”ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "ç¶œåˆè”¬æœä¹¾(ç´”ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "ç´ é¦™é¬†(ç´”ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "ç´ è¹„ç­‹(ç´”ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "è¾£ç´ è¹„ç­‹(ç´”ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "ç´ é»‘èƒ¡æ¤’è‚‰æ¢(ç´”ç´ )", unit: "1åŒ…", price: 150 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "ç´ èœœæ±è‚‰å¹²(ç´”ç´ )", unit: "1åŒ…", price: 150 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "ç´ é¦™è‡ç´ è¹„(å¥¶ç´ )", unit: "1åŒ…", price: 150 },
            { cat: "ä¼‘é–’é£Ÿå“é¡", name: "äº”é¦™è’Ÿè’»å¹²(ç´”ç´ )", unit: "1åŒ…", price: 150 },

            // å …æœé¡
            { cat: "å …æœé¡", name: "ç´…èŒ¶é¦™ç“œå­(ç´”ç´ )", unit: "1åŒ…", price: 50 },
            { cat: "å …æœé¡", name: "ç„¦ç³–é¦™ç“œå­(ç´”ç´ )", unit: "1åŒ…", price: 50 },
            { cat: "å …æœé¡", name: "å¥¶é¦™è‘µç“œå­(å¥¶ç´ )", unit: "1åŒ…", price: 50 },
            { cat: "å …æœé¡", name: "æä»å°é­šå¹²", unit: "1åŒ…", price: 100 },
            { cat: "å …æœé¡", name: "èµ·å¸è ¶è±†é…¥", unit: "1åŒ…", price: 100 },
            { cat: "å …æœé¡", name: "ç«¹ç‚­èŠ±ç”Ÿ(ç´”ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "å …æœé¡", name: "æ¤’éº»èŠ±ç”Ÿ(ç´”ç´ )", unit: "1åŒ…", price: 150 },
            { cat: "å …æœé¡", name: "å‰çš®è¾£èŠ±ç”Ÿ", unit: "1åŒ…", price: 150 },
            { cat: "å …æœé¡", name: "é¦™é…¥è…°æœ", unit: "1åŒ…", price: 200 },
            { cat: "å …æœé¡", name: "åŸå‘³è…°æœ(ç´”ç´ )", unit: "1åŒ…", price: 200 },

            // è±†å¹²é¡
            { cat: "â˜…éåŸºå› æ”¹é€ è±†å¹²é¡â˜…", name: "æ¤’éº»è±†ä¸(ç´”ç´ )", unit: "1åŒ…", price: 50 },
            { cat: "â˜…éåŸºå› æ”¹é€ è±†å¹²é¡â˜…", name: "é¦™è’œç²„æ¢", unit: "1åŒ…", price: 100 },
            { cat: "â˜…éåŸºå› æ”¹é€ è±†å¹²é¡â˜…", name: "æ²™èŒ¶è±†å¹²", unit: "1åŒ…", price: 100 },
            { cat: "â˜…éåŸºå› æ”¹é€ è±†å¹²é¡â˜…", name: "è’œç‰‡è±†å¹²", unit: "1åŒ…", price: 100 },
            { cat: "â˜…éåŸºå› æ”¹é€ è±†å¹²é¡â˜…", name: "[è¾£]é¹¹é…¥é›é¢¨å‘³è±†å¹²(ç´”ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "â˜…éåŸºå› æ”¹é€ è±†å¹²é¡â˜…", name: "Qå¿ƒè±†å¹²(ç´”ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "â˜…éåŸºå› æ”¹é€ è±†å¹²é¡â˜…", name: "é»‘è±†å¹²(ç´”ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "â˜…éåŸºå› æ”¹é€ è±†å¹²é¡â˜…", name: "é¦™Qæ¢è±†å¹²(ç´”ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "â˜…éåŸºå› æ”¹é€ è±†å¹²é¡â˜…", name: "æ²™èŒ¶è¾£è±†å¹²(ç´”ç´ )", unit: "1åŒ…", price: 100 },
            { cat: "â˜…éåŸºå› æ”¹é€ è±†å¹²é¡â˜…", name: "é»ƒé‡‘æ¢è¾£è±†å¹²(ç´”ç´ )", unit: "1åŒ…", price: 100 },

            // æœä¹¾é¡
            { cat: "æœä¹¾é¡", name: "åŒ–æ ¸æ", unit: "1åŒ…", price: 100, oos: true },
            { cat: "æœä¹¾é¡", name: "ç¶œåˆæ¢…", unit: "1åŒ…", price: 50 },
            { cat: "æœä¹¾é¡", name: "åŸå‘³æ¢…ç‰‡", unit: "1åŒ…", price: 50 },
            { cat: "æœä¹¾é¡", name: "æª¸æª¬æœä¹¾", unit: "1åŒ…", price: 50 },
            { cat: "æœä¹¾é¡", name: "ä»™æ¥‚é¤…", unit: "1åŒ…", price: 50 },
            { cat: "æœä¹¾é¡", name: "è˜‹æœæœä¹¾", unit: "1åŒ…", price: 100 },
            { cat: "æœä¹¾é¡", name: "ä¸€å£æ¢…è‚‰", unit: "1åŒ…", price: 100 },
            { cat: "æœä¹¾é¡", name: "å°ç£è„†æ¢…", unit: "1åŒ…", price: 100 },
            { cat: "æœä¹¾é¡", name: "æœå¯¦æ„ŸèŠ’æœä¹¾", unit: "1åŒ…", price: 100 },
            { cat: "æœä¹¾é¡", name: "è•ƒèŒ„æœä¹¾", unit: "1åŒ…", price: 100 },
            { cat: "æœä¹¾é¡", name: "é³³æ¢¨æœä¹¾", unit: "1åŒ…", price: 100 },
            { cat: "æœä¹¾é¡", name: "è‰è“æœä¹¾", unit: "1åŒ…", price: 100 },
            { cat: "æœä¹¾é¡", name: "é¦™æ©™ç‰‡", unit: "1åŒ…", price: 100 },
            { cat: "æœä¹¾é¡", name: "ç´…è–‘é»ƒæ©„æ¬–", unit: "1åŒ…", price: 100 },
            { cat: "æœä¹¾é¡", name: "é»ƒè‰æ©„æ¬–", unit: "1åŒ…", price: 100 },
            { cat: "æœä¹¾é¡", name: "ç”˜ç”œæ¢…", unit: "1åŒ…", price: 100 },
            { cat: "æœä¹¾é¡", name: "è‘¡è„ä¹¾", unit: "1åŒ…", price: 100 },
            { cat: "æœä¹¾é¡", name: "æ¢…ç²‰è‘¡è„ä¹¾", unit: "1åŒ…", price: 100 },
            { cat: "æœä¹¾é¡", name: "èŠ­æ¨‚ä¹¾", unit: "1åŒ…", price: 100 },
            { cat: "æœä¹¾é¡", name: "å“ˆå¯†ç“œä¹¾", unit: "1åŒ…", price: 120, oos: true },
            { cat: "æœä¹¾é¡", name: "è”“è¶Šè“ä¹¾", unit: "1åŒ…", price: 150 },
            { cat: "æœä¹¾é¡", name: "èŠ’æœä¹¾", unit: "1åŒ…", price: 150 },
            { cat: "æœä¹¾é¡", name: "é‡ç”Ÿè—è“ä¹¾", unit: "1åŒ…", price: 150 },
            { cat: "æœä¹¾é¡", name: "æ„›æ–‡èŠ’æœä¹¾", unit: "1åŒ…", price: 200, oos: true },

            // ç©€ç‰©é¡
            { cat: "ç©€ç‰©é¡", name: "ç´…è—œéº¥(ç´”ç´ )", unit: "1åŒ…", price: 190 },
            { cat: "ç”¨å“é¡", name: "æ¿•ç´™å·¾ï¼ˆ10æŠ½ï¼‰", unit: "1åŒ…", price: 15 },
            
            // æ²–æ³¡èˆ‡å’–å•¡
            { cat: "æ²–æ³¡é¡", name: "[æ–°å“]éº¥èŒ¶èŒ¶åŒ…", unit: "1åŒ…", price: 150 },
            { cat: "æ²–æ³¡é¡", name: "å‡é ‚çƒé¾èŒ¶èŒ¶åŒ…", unit: "1åŒ…", price: 150 },
            { cat: "æ²–æ³¡é¡", name: "å°è‘‰ç´…ç´…èŒ¶èŒ¶åŒ…", unit: "1åŒ…", price: 150 },

            { cat: "çš‡å•¡å’–å•¡", name: "è‚¯äºæ¿¾æ›å¼å’–å•¡", unit: "8åŒ…1ç›’", price: 200 },
            { cat: "çš‡å•¡å’–å•¡", name: "è˜‡é–€ç­”è‡˜æ¿¾æ›å¼å’–å•¡", unit: "8åŒ…1ç›’", price: 200 },
            { cat: "çš‡å•¡å’–å•¡", name: "è€¶åŠ é›ªè²-å’–å•¡è±†", unit: "åŒ…", price: 250 },
            { cat: "çš‡å•¡å’–å•¡", name: "æ—©é¤é…æ–¹-å’–å•¡è±†", unit: "åŒ…", price: 170 },
            { cat: "çš‡å•¡å’–å•¡", name: "å·´è¥¿å˜‰å¹´è¯-å’–å•¡è±†", unit: "åŒ…", price: 200 },
            { cat: "çš‡å•¡å’–å•¡", name: "æ›¼ç‰¹å¯§-å’–å•¡è±†", unit: "åŒ…", price: 250 },
            { cat: "çš‡å•¡å’–å•¡", name: "æ¥µè‡´è€é¥•-å’–å•¡è±†", unit: "åŒ…", price: 180 },
            { cat: "çš‡å•¡å’–å•¡", name: "å¤å‰ç½•è²æ‹‰-å’–å•¡è±†", unit: "åŒ…", price: 300 },

            // å‘·é¶´éºµèˆ‡æ»´é›ç²¾
            { cat: "å‘·é¶´éºµ", name: "ä¹¾æ‹Œéºµ-é…¢é†¬", unit: "ä»½", price: 40 },
            { cat: "å‘·é¶´éºµ", name: "ä¹¾æ‹Œéºµ-å››å·æ¤’éº»", unit: "ä»½", price: 40 },
            { cat: "å‘·é¶´éºµ", name: "ä¹¾æ‹Œéºµ-éº»è¾£é†¬é¦™", unit: "ä»½", price: 40 },
            { cat: "æ»´é›ç²¾(å‘·å¡é¶´)", name: "ã€ç¦®ç›’ã€‘æ°£å†·é›æ»´é›ç²¾", unit: "10åŒ…1ç›’", price: 1000 },
            { cat: "æ»´é›ç²¾(å‘·å¡é¶´)", name: "æ°£å†·é›æ»´é›ç²¾", unit: "1åŒ…", price: 105 },

            // é¤…ä¹¾é¡å°ˆå€
            { cat: "é¤…ä¹¾é¡-TOPé¦–é¸", name: "(æ–°å“)é»‘èŠéº»ç‰›è»‹ç³–", unit: "1åŒ…", price: 100 },
            { cat: "é¤…ä¹¾é¡-TOPé¦–é¸", name: "èŠéº»æ ¸æ¡ƒç³•", unit: "1åŒ…", price: 100 },
            { cat: "é¤…ä¹¾é¡-TOPé¦–é¸", name: "é»ƒé‡‘èŠ’æœç‰›è»‹ç³–", unit: "1åŒ…", price: 130 },
            { cat: "é¤…ä¹¾é¡-TOPé¦–é¸", name: "åŸå‘³ç±³ç‰›è»‹ç³–", unit: "1åŒ…", price: 250 },
            { cat: "é¤…ä¹¾é¡-TOPé¦–é¸", name: "å—æ£—æ ¸æ¡ƒç³•", unit: "1åŒ…", price: 270 },

            { cat: "é¤…ä¹¾é¡", name: "(æ–°å“)æ¤’éº»è¾£é¬†é¤…", unit: "1åŒ…", price: 50 },
            { cat: "é¤…ä¹¾é¡", name: "(æ–°å“)é›æ±é’è”¥æ²æ²é¤…", unit: "1åŒ…", price: 50 },
            { cat: "é¤…ä¹¾é¡", name: "(æ–°å“)è’œå‘³è„†è²é¤…", unit: "1åŒ…", price: 50 },
            { cat: "é¤…ä¹¾é¡", name: "(æ–°å“)è¾£å‘³èµ·å¸æ´‹èŠ‹ç‰‡", unit: "1åŒ…", price: 50 },
            { cat: "é¤…ä¹¾é¡", name: "(æ–°å“)æ¤’é¦™ç‰ç±³çƒ", unit: "1åŒ…", price: 50 },
            { cat: "é¤…ä¹¾é¡", name: "èµ·å¸çˆ†ç±³èŠ±-åˆ†äº«æ¡¶", unit: "1æ¡¶", price: 150 },
            { cat: "é¤…ä¹¾é¡", name: "é­šè–¯æ¢", unit: "1åŒ…", price: 55 },
            { cat: "é¤…ä¹¾é¡", name: "èšµä»”é…¥-é¹¹è›‹é»ƒ", unit: "1åŒ…", price: 55 },
            { cat: "é¤…ä¹¾é¡", name: "èµ·å¸-ä¸‰è§’è„†è–¯", unit: "1åŒ…", price: 50 },
            { cat: "é¤…ä¹¾é¡", name: "æµ·è‹”-ä¸‰è§’è„†è–¯", unit: "1åŒ…", price: 50 },
            { cat: "é¤…ä¹¾é¡", name: "æ´‹èŠ‹ç‰‡(å¤šç¨®å£å‘³)", unit: "1åŒ…", price: 50 },
            { cat: "é¤…ä¹¾é¡", name: "å¡å“©å¡å“©(å¤šç¨®å£å‘³)", unit: "1åŒ…", price: 50 },
            { cat: "é¤…ä¹¾é¡", name: "é£›æ©Ÿé¤…", unit: "1åŒ…", price: 50 },
            { cat: "é¤…ä¹¾é¡", name: "èœè„¯é¢¨å‘³é¤…", unit: "1åŒ…", price: 50 },

            // ç¦®ç›’ç³»åˆ—
            { cat: "ç¦®ç›’ç³»åˆ—", name: "é›™é›™å°å°ç¦®ç›’ (ç‰¹è£½+åŸæª¸)", unit: "1ç›’", price: 350 },
            { cat: "ç¦®ç›’ç³»åˆ—", name: "ã€ç´ é£Ÿã€‘èŠ±é–‹å¯Œè²´ç¦®ç›’", unit: "1ç›’", price: 600 },
            { cat: "ç¦®ç›’ç³»åˆ—", name: "ã€ç´ é£Ÿã€‘æ¿ƒæƒ…èœœæ„ç¦®ç›’", unit: "1ç›’", price: 500 },
            { cat: "ç¦®ç›’ç³»åˆ—", name: "äº‹äº‹å¦‚æ„ç¦®ç›’", unit: "1ç›’", price: 750 },
            { cat: "ç¦®ç›’ç³»åˆ—", name: "ä¸‰é™½é–‹æ³°ç¦®ç›’", unit: "1ç›’", price: 550 },
            { cat: "ç¦®ç›’ç³»åˆ—", name: "äº”ç¦è‡¨é–€ç¦®ç›’", unit: "1ç›’", price: 950 },
            { cat: "ç¦®ç›’ç³»åˆ—", name: "å±±çæµ·å‘³ç¦®ç›’", unit: "1ç›’", price: 1050 },
            { cat: "ç¦®ç›’ç³»åˆ—", name: "èŠ‹é ­éº»ç³¬é…¥ç¦®ç›’", unit: "1ç›’", price: 350 },
            { cat: "ç¦®ç›’ç³»åˆ—", name: "åœŸé³³æ¢¨é…¥ç¦®ç›’", unit: "1ç›’", price: 350 },

            // åŒ…è£è¢‹é …ç›®
            { cat: "åŒ…è£è¢‹", name: "å¡‘è† è¢‹3è™Ÿ", unit: "å€‹", price: 1 },
            { cat: "åŒ…è£è¢‹", name: "å¡‘è† è¢‹5è™Ÿ", unit: "å€‹", price: 1 },
            { cat: "åŒ…è£è¢‹", name: "å¡‘è† è¢‹7è™Ÿ", unit: "å€‹", price: 2 },
            { cat: "åŒ…è£è¢‹", name: "ç‰›çš®ç´™è¢‹", unit: "å€‹", price: 5 }
        ];

        const listContainer = document.getElementById('listContainer');
        const navContainer = document.getElementById('categoryNav');
        const state = products.map(() => ({ checked: false, qty: 1 }));

        function init() {
            renderNav();
            renderList(products);
        }

        function renderNav() {
            const categories = [...new Set(products.map(p => p.cat))];
            navContainer.innerHTML = categories.map(cat => `
                <button onclick="scrollToCat('${cat}')" class="flex-none bg-white border border-slate-300 px-4 py-2 rounded-full text-sm font-bold shadow-sm active:bg-red-50 active:text-red-600 transition">
                    ${cat.replace(/[â˜…â€»]/g, '')}
                </button>
            `).join('');
        }

        function renderList(data) {
            listContainer.innerHTML = '';
            let currentCat = '';

            data.forEach((item) => {
                const originalIndex = products.indexOf(item);
                
                if (item.cat !== currentCat) {
                    currentCat = item.cat;
                    const catDiv = document.createElement('div');
                    catDiv.id = `cat-${currentCat}`;
                    catDiv.className = "flex items-center gap-2 pt-6 pb-2 sticky top-[120px] bg-slate-50 z-20";
                    catDiv.innerHTML = `<span class="bg-red-600 w-1.5 h-5 rounded-full"></span><h2 class="font-black text-slate-800 tracking-tight">${currentCat}</h2>`;
                    listContainer.appendChild(catDiv);
                }

                const card = document.createElement('div');
                card.className = `item-card bg-white border border-slate-200 rounded-2xl p-4 flex items-center shadow-sm transition-all ${state[originalIndex].checked ? 'selected border-red-500 ring-1 ring-red-500' : ''} ${item.oos ? 'oos-card' : ''}`;
                card.id = `card-${originalIndex}`;
                card.innerHTML = `
                    <div class="mr-4 flex-shrink-0">
                        <input type="checkbox" id="check-${originalIndex}" ${state[originalIndex].checked ? 'checked' : ''} 
                               ${item.oos ? 'disabled' : ''}
                               onchange="toggleItem(${originalIndex})" class="w-6 h-6 rounded-lg text-red-600 focus:ring-red-500 cursor-pointer">
                    </div>
                    <div class="flex-grow ${item.oos ? '' : 'cursor-pointer'}" onclick="${item.oos ? '' : `clickRow(${originalIndex})`}">
                        <h3 class="font-bold text-slate-800 leading-tight">${item.name} ${item.oos ? '<span class="text-red-500 text-xs">(ç¼ºè²¨)</span>' : ''}</h3>
                        <p class="text-xs text-slate-400 mt-1 font-medium italic">$${item.price} / ${item.unit}</p>
                    </div>
                    <div class="flex items-center bg-slate-100 rounded-xl p-1 ml-2">
                        <button onclick="changeQty(${originalIndex}, -1)" ${item.oos ? 'disabled' : ''} class="w-8 h-8 flex items-center justify-center font-black text-slate-400 active:text-red-600 disabled:opacity-30">-</button>
                        <input type="number" id="qty-${originalIndex}" value="${state[originalIndex].qty}" min="1" readonly
                               class="w-8 text-center bg-transparent font-bold text-slate-800 focus:outline-none">
                        <button onclick="changeQty(${originalIndex}, 1)" ${item.oos ? 'disabled' : ''} class="w-8 h-8 flex items-center justify-center font-black text-slate-400 active:text-red-600 disabled:opacity-30">+</button>
                    </div>
                `;
                listContainer.appendChild(card);
            });
        }

        function scrollToCat(catName) {
            const el = document.getElementById(`cat-${catName}`);
            if (el) {
                const offset = el.offsetTop - 130;
                window.scrollTo({ top: offset, behavior: 'smooth' });
            }
        }

        function clickRow(idx) {
            state[idx].checked = !state[idx].checked;
            updateUI(idx);
        }

        function toggleItem(idx) {
            state[idx].checked = document.getElementById(`check-${idx}`).checked;
            updateUI(idx);
        }

        function changeQty(idx, delta) {
            state[idx].qty = Math.max(1, state[idx].qty + delta);
            if (delta > 0) state[idx].checked = true;
            updateUI(idx);
        }

        function updateUI(idx) {
            const card = document.getElementById(`card-${idx}`);
            const check = document.getElementById(`check-${idx}`);
            const qtyInput = document.getElementById(`qty-${idx}`);
            
            if (card) {
                if (state[idx].checked) card.classList.add('selected', 'border-red-500', 'ring-1', 'ring-red-500');
                else card.classList.remove('selected', 'border-red-500', 'ring-1', 'ring-red-500');
            }
            if (check) check.checked = state[idx].checked;
            if (qtyInput) qtyInput.value = state[idx].qty;
            
            calculate();
        }

        function calculate() {
            let total = 0;
            let count = 0;
            state.forEach((s, i) => {
                if (s.checked) {
                    total += products[i].price * s.qty;
                    count++;
                }
            });
            document.getElementById('totalAmount').innerText = total.toLocaleString();
            document.getElementById('totalItems').innerText = count;
        }

        function handleSearch() {
            const term = document.getElementById('searchInput').value.toLowerCase();
            const filtered = products.filter(p => p.name.toLowerCase().includes(term) || p.cat.toLowerCase().includes(term));
            renderList(filtered);
        }

        function resetOrder() {
            if (!confirm("ç¢ºå®šè¦é‡è¨­æ¸…å–®å—ï¼Ÿ")) return;
            state.forEach(s => { s.checked = false; s.qty = 1; });
            renderList(products);
            calculate();
        }

        function copyOrder() {
            let text = "ğŸ›’ ã€å‚å¤é£Ÿå“è¨‚è³¼æ¸…å–®ã€‘\n";
            text += "====================\n";
            let hasSelection = false;
            let totalAmount = 0;

            products.forEach((p, i) => {
                if (state[i].checked) {
                    const sub = p.price * state[i].qty;
                    // å„ªåŒ–è¼¸å‡ºæ ¼å¼ï¼Œé¿å…æ•¸å­—é€£åœ¨ä¸€èµ·
                    text += `â— ${p.name}\n   æ•¸é‡ï¼š${state[i].qty} x (${p.unit}) å°è¨ˆï¼š$${sub}\n`;
                    totalAmount += sub;
                    hasSelection = true;
                }
            });

            if (!hasSelection) {
                alert("æ‚¨é‚„æ²’æœ‰å‹¾é¸ä»»ä½•å•†å“å–”ï¼");
                return;
            }

            text += "====================\n";
            text += `ğŸ’° é ä¼°ç¸½é‡‘é¡ï¼š$${totalAmount} å…ƒ\n`;
            text += `ğŸ“… è¨‚è³¼æ—¥æœŸï¼š${new Date().toLocaleDateString()}\n`;

            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                showToast("âœ… æ¸…å–®å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿");
            } catch (err) {
                alert("è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•é¸å–");
            }
            document.body.removeChild(textArea);
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.innerText = msg;
            toast.style.opacity = '1';
            setTimeout(() => { toast.style.opacity = '0'; }, 2000);
        }

        window.onload = init;
    </script>
</body>
</html>

